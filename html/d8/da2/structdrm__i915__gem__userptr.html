<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Intel Media Driver Document: drm_i915_gem_userptr Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Intel Media Driver Document<span id="projectnumber">&#160;24.2.6</span>
   </div>
   <div id="projectbrief">This document is for intel media driver which locate at https://github.com/intel/media-driver.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d0/d60/structdrm__i915__gem__userptr-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">drm_i915_gem_userptr Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a95494044328cb2b33eb20cc984cf3d11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/da2/structdrm__i915__gem__userptr.html#a95494044328cb2b33eb20cc984cf3d11">user_ptr</a></td></tr>
<tr class="separator:a95494044328cb2b33eb20cc984cf3d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5217d86839e1b921428e365ae195634c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/da2/structdrm__i915__gem__userptr.html#a5217d86839e1b921428e365ae195634c">user_size</a></td></tr>
<tr class="separator:a5217d86839e1b921428e365ae195634c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00dd3e7e0fae9cbf4a26c48f46caee3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/da2/structdrm__i915__gem__userptr.html#a00dd3e7e0fae9cbf4a26c48f46caee3d">flags</a></td></tr>
<tr class="separator:a00dd3e7e0fae9cbf4a26c48f46caee3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da2c0ceae3b2bd7ca5470abb8b1f9f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d68/drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/da2/structdrm__i915__gem__userptr.html#a8da2c0ceae3b2bd7ca5470abb8b1f9f3">handle</a></td></tr>
<tr class="separator:a8da2c0ceae3b2bd7ca5470abb8b1f9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >struct <a class="el" href="../../d8/da2/structdrm__i915__gem__userptr.html">drm_i915_gem_userptr</a> - Create GEM object from user allocated memory.</p>
<p >Userptr objects have several restrictions on what ioctls can be used with the object handle. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d85/i915__drm_8h_source.html#l02645">2645</a> of file <a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a00dd3e7e0fae9cbf4a26c48f46caee3d" name="a00dd3e7e0fae9cbf4a26c48f46caee3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dd3e7e0fae9cbf4a26c48f46caee3d">&#9670;&nbsp;</a></span>flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a> drm_i915_gem_userptr::flags</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@flags:</p>
<p >Supported flags:</p>
<p >I915_USERPTR_READ_ONLY:</p>
<p >Mark the object as readonly, this also means GPU access can only be readonly. This is only supported on HW which supports readonly access through the GTT. If the HW can't support readonly access, an error is returned.</p>
<p >I915_USERPTR_PROBE:</p>
<p >Probe the provided @user_ptr range and validate that the @user_ptr is indeed pointing to normal memory and that the range is also valid. For example if some garbage address is given to the kernel, then this should complain.</p>
<p >Returns -EFAULT if the probe failed.</p>
<p >Note that this doesn't populate the backing pages, and also doesn't guarantee that the object will remain valid when the object is eventually used.</p>
<p >The kernel supports this feature if I915_PARAM_HAS_USERPTR_PROBE returns a non-zero value.</p>
<p >I915_USERPTR_UNSYNCHRONIZED:</p>
<p >NOT USED. Setting this flag will result in an error. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d85/i915__drm_8h_source.html#l02696">2696</a> of file <a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<a id="a8da2c0ceae3b2bd7ca5470abb8b1f9f3" name="a8da2c0ceae3b2bd7ca5470abb8b1f9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da2c0ceae3b2bd7ca5470abb8b1f9f3">&#9670;&nbsp;</a></span>handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a> drm_i915_gem_userptr::handle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@handle: Returned handle for the object.</p>
<p >Object handles are nonzero. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d85/i915__drm_8h_source.html#l02705">2705</a> of file <a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<a id="a95494044328cb2b33eb20cc984cf3d11" name="a95494044328cb2b33eb20cc984cf3d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95494044328cb2b33eb20cc984cf3d11">&#9670;&nbsp;</a></span>user_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a> drm_i915_gem_userptr::user_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@user_ptr: The pointer to the allocated memory.</p>
<p >Needs to be aligned to PAGE_SIZE. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d85/i915__drm_8h_source.html#l02651">2651</a> of file <a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<a id="a5217d86839e1b921428e365ae195634c" name="a5217d86839e1b921428e365ae195634c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5217d86839e1b921428e365ae195634c">&#9670;&nbsp;</a></span>user_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d68/drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a> drm_i915_gem_userptr::user_size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@user_size:</p>
<p >The size in bytes for the allocated memory. This will also become the object size.</p>
<p >Needs to be aligned to PAGE_SIZE, and should be at least PAGE_SIZE, or larger. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d85/i915__drm_8h_source.html#l02662">2662</a> of file <a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>C:/Users/xiaoganx/Project/media-driver/media_softlet/linux/common/os/i915/include/uapi/<a class="el" href="../../d0/d85/i915__drm_8h_source.html">i915_drm.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
