<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>media driver document: drm_i915_gem_create_ext Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">media driver document
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structdrm__i915__gem__create__ext-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">drm_i915_gem_create_ext Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa04b736be34468700f8edfccee6f9b37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrm__i915__gem__create__ext.html#aa04b736be34468700f8edfccee6f9b37">size</a></td></tr>
<tr class="separator:aa04b736be34468700f8edfccee6f9b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3884e27cbeed5a1e986aab77e5a6b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrm__i915__gem__create__ext.html#a9c3884e27cbeed5a1e986aab77e5a6b7">handle</a></td></tr>
<tr class="separator:a9c3884e27cbeed5a1e986aab77e5a6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33526e5d34ae641d65cd7f826f3c7da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrm__i915__gem__create__ext.html#af33526e5d34ae641d65cd7f826f3c7da">flags</a></td></tr>
<tr class="separator:af33526e5d34ae641d65cd7f826f3c7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0f5961e039a1a0b327797cdcf3b5fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdrm__i915__gem__create__ext.html#a4f0f5961e039a1a0b327797cdcf3b5fe">extensions</a></td></tr>
<tr class="separator:a4f0f5961e039a1a0b327797cdcf3b5fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >DOC: GuC HWCONFIG blob uAPI</p>
<p >The GuC produces a blob with information about the current device. i915 reads this blob from GuC and makes it available via this uAPI.</p>
<p >The format and meaning of the blob content are documented in the Programmer's Reference Manual. struct <a class="el" href="structdrm__i915__gem__create__ext.html">drm_i915_gem_create_ext</a> - Existing gem_create behaviour, with added extension support using struct <a class="el" href="structi915__user__extension.html">i915_user_extension</a>.</p>
<p >Note that in the future we want to have our buffer flags here, at least for the stuff that is immutable. Previously we would have two ioctls, one to create the object with gem_create, and another to apply various parameters, however this creates some ambiguity for the params which are considered immutable. Also in general we're phasing out the various SET/GET ioctls. </p>

<p class="definition">Definition at line <a class="el" href="include_2uapi_2i915__drm_8h_source.html#l03285">3285</a> of file <a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a4f0f5961e039a1a0b327797cdcf3b5fe" name="a4f0f5961e039a1a0b327797cdcf3b5fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f0f5961e039a1a0b327797cdcf3b5fe">&#9670;&nbsp;</a></span>extensions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a> drm_i915_gem_create_ext::extensions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="include_2uapi_2i915__drm_8h_source.html#l03353">3353</a> of file <a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<a id="af33526e5d34ae641d65cd7f826f3c7da" name="af33526e5d34ae641d65cd7f826f3c7da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af33526e5d34ae641d65cd7f826f3c7da">&#9670;&nbsp;</a></span>flags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a> drm_i915_gem_create_ext::flags</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@flags: MBZ </p>

<p class="definition">Definition at line <a class="el" href="include_2uapi_2i915__drm_8h_source.html#l03334">3334</a> of file <a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<a id="a9c3884e27cbeed5a1e986aab77e5a6b7" name="a9c3884e27cbeed5a1e986aab77e5a6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3884e27cbeed5a1e986aab77e5a6b7">&#9670;&nbsp;</a></span>handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#a3acae9310e2c2e411e800a8a369171c6">__u32</a> drm_i915_gem_create_ext::handle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@handle: Returned handle for the object.</p>
<p >Object handles are nonzero. </p>

<p class="definition">Definition at line <a class="el" href="include_2uapi_2i915__drm_8h_source.html#l03332">3332</a> of file <a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<a id="aa04b736be34468700f8edfccee6f9b37" name="aa04b736be34468700f8edfccee6f9b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04b736be34468700f8edfccee6f9b37">&#9670;&nbsp;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="drm_8h.html#ac2a2bfb32105ffe8e74b67670b7ec440">__u64</a> drm_i915_gem_create_ext::size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >@size: Requested size for the object.</p>
<p >The (page-aligned) allocated size for the object will be returned.</p>
<p >DG2 64K min page size implications:</p>
<p >On discrete platforms, starting from DG2, we have to contend with GTT page size restrictions when dealing with I915_MEMORY_CLASS_DEVICE objects. Specifically the hardware only supports 64K or larger GTT page sizes for such memory. The kernel will already ensure that all I915_MEMORY_CLASS_DEVICE memory is allocated using 64K or larger page sizes underneath.</p>
<p >Note that the returned size here will always reflect any required rounding up done by the kernel, i.e 4K will now become 64K on devices such as DG2.</p>
<p >Special DG2 GTT address alignment requirement:</p>
<p >The GTT alignment will also need to be at least 2M for such objects.</p>
<p >Note that due to how the hardware implements 64K GTT page support, we have some further complications:</p>
<p >1) The entire PDE (which covers a 2MB virtual address range), must contain only 64K PTEs, i.e mixing 4K and 64K PTEs in the same PDE is forbidden by the hardware.</p>
<p >2) We still need to support 4K PTEs for I915_MEMORY_CLASS_SYSTEM objects.</p>
<p >To keep things simple for userland, we mandate that any GTT mappings must be aligned to and rounded up to 2MB. The kernel will internally pad them out to the next 2MB boundary. As this only wastes virtual address space and avoids userland having to copy any needlessly complicated PDE sharing scheme (coloring) and only affects DG2, this is deemed to be a good compromise. </p>

<p class="definition">Definition at line <a class="el" href="include_2uapi_2i915__drm_8h_source.html#l03326">3326</a> of file <a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>C:/Users/xiaoganx/temp/media-driver/media_driver/linux/common/os/i915/include/uapi/<a class="el" href="include_2uapi_2i915__drm_8h_source.html">i915_drm.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
